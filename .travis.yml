language: cpp

addons:
  apt:
    packages:
      - cmake
    sources:
      - kalakris-cmake

install:
- sudo apt-get update
- export CXXFLAGS="-std=c++0x -stdlib=libc++"
- svn co -quiet http://llvm.org/svn/llvm-project/libcxx/trunk libcxx
- cd libcxx/lib && bash buildit
- sudo cp ./libc++.so.1.0 /usr/lib/
- sudo mkdir /usr/include/c++/v1

script: 
- $CXX --version
- ./build/build_cpp.sh
- ./build/build_cpp.sh -e test_build
- ./build/build_cpp.sh -e spam_classification
- ./build/build_cpp.sh -e rsa
- ./build/build_cpp.sh -e mersenne_twister
- ./build/build_cpp.sh -e kmeans
- ./build/build_cpp.sh -e sort_test
- ./build/build_cpp.sh -b sort_benchmark

compiler: g++

sudo: required
