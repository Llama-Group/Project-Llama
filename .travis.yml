language: cpp

addons:
  apt:
    packages:
      - cmake
    sources:
      - kalakris-cmake

before_install:
- sudo apt-add-repository "deb http://llvm.org/apt/trusty/ llvm-toolchain-trusty-3.8 main"
- wget -O - http://llvm.org/apt/llvm-snapshot.gpg.key|sudo apt-key add -
- sudo apt-get purge devscripts:i386 gcc:i386 gcc-4.8:i386 gcc-4.9-base:i386 libgcc1:i386

install:
- sudo apt-get update
- sudo apt-get install clang-3.8 libclang1-3.8 libllvm3.8 libclang-common-3.8-dev llvm-3.8-dev libstdc++-4.8-dev libgcc-4.8-dev libobjc-4.8-dev

script: 
- $CXX --version
- ./build/build_cpp.sh
- ./build/build_cpp.sh -e test_build
- ./build/build_cpp.sh -e spam_classification
- ./build/build_cpp.sh -e rsa
- ./build/build_cpp.sh -e mersenne_twister
- ./build/build_cpp.sh -e kmeans
- ./build/build_cpp.sh -e sort_test
- ./build/build_cpp.sh -b sort_benchmark

compiler: g++

sudo: required
